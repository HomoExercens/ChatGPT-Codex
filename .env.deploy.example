# Public Alpha deploy example (.env file)
#
# Usage:
#   cp .env.deploy.example .env.deploy
#   edit .env.deploy
#   docker compose -f docker-compose.deploy.yml --env-file .env.deploy up -d --build
#
# NOTE: do not commit your real .env.deploy.

# External URL (must match your reverse-proxy HTTPS domain)
DEPLOY_DOMAIN=neuroleague.example.com
NEUROLEAGUE_PUBLIC_BASE_URL=https://neuroleague.example.com

# Reverse proxy safety
NEUROLEAGUE_TRUST_PROXY_HEADERS=true
NEUROLEAGUE_ALLOWED_HOSTS=neuroleague.example.com,localhost,127.0.0.1
NEUROLEAGUE_CORS_ALLOWED_ORIGINS=https://neuroleague.example.com

# Auth
NEUROLEAGUE_AUTH_JWT_SECRET=change-me
NEUROLEAGUE_ADMIN_TOKEN=change-me-admin-token

# Database (Postgres)
POSTGRES_USER=neuroleague
POSTGRES_PASSWORD=neuroleague
POSTGRES_DB=neuroleague

# Storage (MinIO / S3-compatible)
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio12345
MINIO_BUCKET=neuroleague

# Optional: Caddy ACME email (recommended)
CADDY_EMAIL=admin@neuroleague.example.com

# Optional: JSON logs + scheduler
NEUROLEAGUE_LOG_JSON=true
NEUROLEAGUE_SCHEDULER_ENABLED=true

# Optional: seed demo content on boot (idempotent; set to 0 to disable)
NEUROLEAGUE_SEED_ON_BOOT=1

# Optional: Android App Links / TWA
# - For /.well-known/assetlinks.json
NEUROLEAGUE_ANDROID_ASSETLINKS_PACKAGE_NAME=com.neuroleague.twa
# Comma-separated SHA-256 fingerprints (debug + release + CI). Leave empty to disable.
NEUROLEAGUE_ANDROID_ASSETLINKS_SHA256_CERT_FINGERPRINTS=
# - Used by /s/* share landings as an "Install" CTA (Play Store URL).
NEUROLEAGUE_ANDROID_INSTALL_URL=https://play.google.com/store/apps/details?id=com.neuroleague.twa

# Optional: artifact retention (render job artifacts) via scheduler (default off)
NEUROLEAGUE_ARTIFACTS_RETENTION_ENABLED=false
NEUROLEAGUE_ARTIFACTS_RETENTION_DAYS=14
NEUROLEAGUE_ARTIFACTS_RETENTION_KEEP_SHARED_DAYS=7

# Optional: daily Postgres backups to MinIO (S3-compatible)
NEUROLEAGUE_BACKUP_ENABLED=true
NEUROLEAGUE_BACKUP_KEEP=7
NEUROLEAGUE_BACKUP_PREFIX=backups/pg
